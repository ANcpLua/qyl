/* Google Font - must be before tailwindcss import */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap');

@import "tailwindcss";

@theme {
    /* ============================================
       BRUTALIST COLOR SYSTEM - Industrial Observability
       Using oklch for perceptually uniform colors
       ============================================ */
    /* Signal Colors - High contrast for data states */
    --color-signal-orange: oklch(0.70 0.20 45);
    --color-signal-yellow: oklch(0.90 0.18 95);
    --color-signal-green: oklch(0.85 0.25 145);
    --color-signal-cyan: oklch(0.80 0.15 210);
    --color-signal-violet: oklch(0.60 0.25 300);
    --color-signal-red: oklch(0.65 0.25 25);

    /* Brutalist Grayscale */
    --color-brutal-black: oklch(0.15 0 0);
    --color-brutal-carbon: oklch(0.18 0 0);
    --color-brutal-dark: oklch(0.20 0 0);
    --color-brutal-zinc: oklch(0.35 0 0);
    --color-brutal-slate: oklch(0.55 0 0);
    --color-brutal-white: oklch(0.97 0 0);

    /* Semantic color mappings */
    --color-background: var(--color-brutal-black);
    --color-foreground: var(--color-brutal-white);

    --color-card: var(--color-brutal-dark);
    --color-card-foreground: var(--color-brutal-white);

    --color-popover: var(--color-brutal-carbon);
    --color-popover-foreground: var(--color-brutal-white);

    --color-primary: var(--color-signal-orange);
    --color-primary-foreground: var(--color-brutal-black);

    --color-secondary: var(--color-brutal-zinc);
    --color-secondary-foreground: var(--color-brutal-white);

    --color-muted: var(--color-brutal-zinc);
    --color-muted-foreground: var(--color-brutal-slate);

    --color-accent: var(--color-signal-violet);
    --color-accent-foreground: var(--color-brutal-white);

    --color-destructive: var(--color-signal-red);
    --color-destructive-foreground: var(--color-brutal-white);

    --color-border: var(--color-brutal-zinc);
    --color-input: var(--color-brutal-zinc);
    --color-ring: var(--color-signal-orange);

    /* Status colors */
    --color-success: var(--color-signal-green);
    --color-warning: var(--color-signal-yellow);
    --color-error: var(--color-signal-red);
    --color-info: var(--color-signal-cyan);

    /* Chart colors - brutalist palette */
    --color-chart-1: var(--color-signal-orange);
    --color-chart-2: var(--color-signal-violet);
    --color-chart-3: var(--color-signal-green);
    --color-chart-4: var(--color-signal-yellow);
    --color-chart-5: var(--color-signal-cyan);

    /* ============================================
       RADIUS - BRUTALIST: No rounded corners
       ============================================ */
    --radius-sm: 0px;
    --radius-md: 0px;
    --radius-lg: 0px;
    --radius-xl: 0px;

    /* ============================================
       FONTS - Monospace for industrial aesthetic
       ============================================ */
    --font-mono: 'JetBrains Mono', ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
    --font-sans: var(--font-mono);

    /* ============================================
       SHADOWS - Brutalist offset style
       ============================================ */
    --shadow-brutal: 4px 4px 0 var(--color-brutal-black);
    --shadow-brutal-sm: 2px 2px 0 var(--color-brutal-black);
    --shadow-brutal-lg: 6px 6px 0 var(--color-brutal-black);

    /* Signal glow shadows */
    --shadow-glow-orange: 0 0 8px var(--color-signal-orange);
    --shadow-glow-green: 0 0 8px var(--color-signal-green);
    --shadow-glow-red: 0 0 8px var(--color-signal-red);
    --shadow-glow-cyan: 0 0 8px var(--color-signal-cyan);
    --shadow-glow-violet: 0 0 8px var(--color-signal-violet);
    --shadow-glow-yellow: 0 0 8px var(--color-signal-yellow);

    /* ============================================
       EASING - Industrial motion
       ============================================ */
    --ease-industrial: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-snap: step-end;

    /* ============================================
       ANIMATIONS - Tailwind 4.1 @keyframes in @theme
       ============================================ */
    --animate-cursor-blink: cursor-blink 1s step-end infinite;
    --animate-data-stream: data-stream 0.3s ease-out forwards;
    --animate-pulse-live: pulse-live 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    --animate-scan-line: scan-line 8s linear infinite;

    @keyframes cursor-blink {
        0%, 50% {
            opacity: 1;
        }
        51%, 100% {
            opacity: 0;
        }
    }

    @keyframes data-stream {
        0% {
            opacity: 0;
            transform: translateX(-8px);
        }
        100% {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes pulse-live {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.5;
        }
    }

    @keyframes scan-line {
        0% {
            transform: translateY(-100%);
        }
        100% {
            transform: translateY(100vh);
        }
    }

    /* ============================================
       TEXT SHADOWS - New in Tailwind 4.1
       ============================================ */
    --text-shadow-glow-orange: 0 0 8px var(--color-signal-orange);
    --text-shadow-glow-green: 0 0 8px var(--color-signal-green);
    --text-shadow-glow-red: 0 0 8px var(--color-signal-red);

    /* ============================================
       INSET SHADOWS - v4.1 namespace
       ============================================ */
    --inset-shadow-brutal: inset 0 2px 4px var(--color-brutal-black);
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
        font-family: var(--font-mono);
        font-feature-settings: "rlig" 1, "calt" 1;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Light mode overrides */
    :root:not(.dark) {
        --color-brutal-black: oklch(0.97 0 0);
        --color-brutal-carbon: oklch(0.94 0 0);
        --color-brutal-dark: oklch(0.90 0 0);
        --color-brutal-zinc: oklch(0.80 0 0);
        --color-brutal-slate: oklch(0.50 0 0);
        --color-brutal-white: oklch(0.15 0 0);

        /* Adjusted signal colors for light mode contrast */
        --color-signal-orange: oklch(0.55 0.22 45);
        --color-signal-yellow: oklch(0.60 0.20 95);
        --color-signal-green: oklch(0.50 0.22 145);
        --color-signal-cyan: oklch(0.45 0.15 210);
        --color-signal-violet: oklch(0.45 0.25 300);
        --color-signal-red: oklch(0.50 0.25 25);

        /* Shadow adjustments for light mode */
        --shadow-brutal: 4px 4px 0 oklch(0.75 0 0);
        --shadow-brutal-sm: 2px 2px 0 oklch(0.75 0 0);
        --shadow-brutal-lg: 6px 6px 0 oklch(0.75 0 0);
    }

    /* BRUTALIST scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    ::-webkit-scrollbar-track {
        background: var(--color-brutal-black);
    }

    ::-webkit-scrollbar-thumb {
        background: var(--color-brutal-zinc);
        border: 1px solid var(--color-brutal-slate);
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--color-signal-orange);
    }

    /* Force no rounded corners everywhere */
    *, *::before, *::after {
        border-radius: 0 !important;
    }
}

@layer components {
    /* BRUTALIST 3-pixel borders */
    .border-3 {
        border-width: 3px;
    }

    /* BRUTALIST offset shadow utilities */
    .shadow-brutal {
        box-shadow: var(--shadow-brutal);
    }

    .shadow-brutal-sm {
        box-shadow: var(--shadow-brutal-sm);
    }

    .shadow-brutal-hover:hover {
        transform: translate(-2px, -2px);
        box-shadow: var(--shadow-brutal-lg);
    }

    /* Signal glow effects */
    .glow-orange {
        box-shadow: var(--shadow-glow-orange);
    }

    .glow-green {
        box-shadow: var(--shadow-glow-green);
    }

    .glow-red {
        box-shadow: var(--shadow-glow-red);
    }

    .glow-cyan {
        box-shadow: var(--shadow-glow-cyan);
    }

    .glow-violet {
        box-shadow: var(--shadow-glow-violet);
    }

    .glow-yellow {
        box-shadow: var(--shadow-glow-yellow);
    }

    /* BRUTALIST section headers */
    .section-header {
        @apply text-xs font-bold tracking-[0.2em] uppercase;
        @apply text-brutal-slate border-b-3 border-brutal-zinc pb-2;
        letter-spacing: 0.2em;
    }

    /* Industrial label styling */
    .label-industrial {
        @apply text-[10px] tracking-[0.15em] uppercase text-brutal-slate;
    }

    /* Waterfall bars - no rounded corners */
    .waterfall-bar {
        @apply h-5;
        min-width: 2px;
    }

    /* Trace timeline */
    .trace-line {
        @apply absolute top-0 bottom-0 w-px bg-border;
    }

    /* Log level badges - brutalist style */
    .log-level-trace {
        @apply bg-brutal-zinc text-brutal-slate border-2 border-brutal-slate;
    }

    .log-level-debug {
        @apply bg-signal-cyan/20 text-signal-cyan border-2 border-signal-cyan;
    }

    .log-level-info {
        @apply bg-signal-cyan/10 text-signal-cyan border-2 border-signal-cyan/50;
    }

    .log-level-warn {
        @apply bg-signal-yellow/20 text-signal-yellow border-2 border-signal-yellow;
    }

    .log-level-error {
        @apply bg-signal-red/20 text-signal-red border-2 border-signal-red;
    }

    .log-level-fatal {
        @apply bg-signal-red/30 text-signal-red border-3 border-signal-red;
    }

    /* Resource status dots - square for brutalist */
    .status-dot {
        @apply w-2 h-2;
    }

    .status-running {
        @apply bg-signal-green;
    }

    .status-stopped {
        @apply bg-brutal-slate;
    }

    .status-error {
        @apply bg-signal-red;
    }

    .status-pending {
        @apply bg-signal-yellow;
    }

    /* Keyboard shortcut hints - brutalist */
    .kbd {
        @apply inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-mono;
        @apply bg-brutal-carbon border-2 border-brutal-zinc;
        @apply text-brutal-slate;
        min-width: 1.5rem;
    }

    /* Grid overlay background */
    .bg-grid-overlay {
        background-image: linear-gradient(to right, var(--color-brutal-zinc) 1px, transparent 1px),
        linear-gradient(to bottom, var(--color-brutal-zinc) 1px, transparent 1px);
        background-size: 20px 20px;
        background-position: -1px -1px;
    }

    /* Scan line effect */
    .scan-lines::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(0, 0, 0, 0.1) 2px,
            rgba(0, 0, 0, 0.1) 4px
        );
        pointer-events: none;
        opacity: 0.3;
    }
}

@layer utilities {
    /* Text colors for signals - using v4 automatic generation */
    .text-signal-orange {
        color: var(--color-signal-orange);
    }

    .text-signal-yellow {
        color: var(--color-signal-yellow);
    }

    .text-signal-green {
        color: var(--color-signal-green);
    }

    .text-signal-cyan {
        color: var(--color-signal-cyan);
    }

    .text-signal-violet {
        color: var(--color-signal-violet);
    }

    .text-signal-red {
        color: var(--color-signal-red);
    }

    /* Background colors for signals */
    .bg-signal-orange {
        background-color: var(--color-signal-orange);
    }

    .bg-signal-yellow {
        background-color: var(--color-signal-yellow);
    }

    .bg-signal-green {
        background-color: var(--color-signal-green);
    }

    .bg-signal-cyan {
        background-color: var(--color-signal-cyan);
    }

    .bg-signal-violet {
        background-color: var(--color-signal-violet);
    }

    .bg-signal-red {
        background-color: var(--color-signal-red);
    }

    /* Border colors for signals */
    .border-signal-orange {
        border-color: var(--color-signal-orange);
    }

    .border-signal-yellow {
        border-color: var(--color-signal-yellow);
    }

    .border-signal-green {
        border-color: var(--color-signal-green);
    }

    .border-signal-cyan {
        border-color: var(--color-signal-cyan);
    }

    .border-signal-violet {
        border-color: var(--color-signal-violet);
    }

    .border-signal-red {
        border-color: var(--color-signal-red);
    }

    /* Brutalist grayscale utilities */
    .text-brutal-black {
        color: var(--color-brutal-black);
    }

    .text-brutal-carbon {
        color: var(--color-brutal-carbon);
    }

    .text-brutal-dark {
        color: var(--color-brutal-dark);
    }

    .text-brutal-zinc {
        color: var(--color-brutal-zinc);
    }

    .text-brutal-slate {
        color: var(--color-brutal-slate);
    }

    .text-brutal-white {
        color: var(--color-brutal-white);
    }

    .bg-brutal-black {
        background-color: var(--color-brutal-black);
    }

    .bg-brutal-carbon {
        background-color: var(--color-brutal-carbon);
    }

    .bg-brutal-dark {
        background-color: var(--color-brutal-dark);
    }

    .bg-brutal-zinc {
        background-color: var(--color-brutal-zinc);
    }

    .bg-brutal-slate {
        background-color: var(--color-brutal-slate);
    }

    .bg-brutal-white {
        background-color: var(--color-brutal-white);
    }

    .border-brutal-black {
        border-color: var(--color-brutal-black);
    }

    .border-brutal-carbon {
        border-color: var(--color-brutal-carbon);
    }

    .border-brutal-dark {
        border-color: var(--color-brutal-dark);
    }

    .border-brutal-zinc {
        border-color: var(--color-brutal-zinc);
    }

    .border-brutal-slate {
        border-color: var(--color-brutal-slate);
    }

    .border-brutal-white {
        border-color: var(--color-brutal-white);
    }

    /* Truncate with ellipsis */
    .truncate-middle {
        max-width: 100%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Hide scrollbar but keep scroll functionality */
    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }
}
