<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net10.0</TargetFramework>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
    <LangVersion>preview</LangVersion>
    <!-- Inject shared code -->
    <InjectSharedThrow>true</InjectSharedThrow>
    <!-- Suppress analyzer warnings for generated gRPC code and library patterns -->
    <NoWarn>$(NoWarn);CA1003;CA1008;CA1031;CA1034;CA1062;CA1307;CA1308;CA1716;CA1724;CA1819;CA1822;CA1826;CA1848;CA1859;CA1873;CA2007;MA0002;MA0004;MA0006;MA0011;MA0016;MA0046;MA0048;MA0158;CS1591;RS0030;VSTHRD002;VSTHRD111;IL2026;IL3050</NoWarn>
  </PropertyGroup>


  <ItemGroup>
    <FrameworkReference Include="Microsoft.AspNetCore.App"/>
  </ItemGroup>

  <ItemGroup>
    <!-- gRPC -->
    <PackageReference Include="Grpc.AspNetCore"/>
    <PackageReference Include="Grpc.AspNetCore.Server.Reflection"/>
    <PackageReference Include="Grpc.Tools" PrivateAssets="All"/>
    <PackageReference Include="Google.Protobuf"/>
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="../qyl.agents.telemetry/qyl.agents.telemetry.csproj"/>
  </ItemGroup>
  <ItemGroup>
    <Protobuf Include="Protos/opentelemetry/proto/**/*.proto" ProtoRoot="Protos" GrpcServices="Server"/>
  </ItemGroup>

</Project>
